#!/usr/bin/env bash
#
# Change the color of a yabai element.
#

ELEMENT="$1"
APPEARANCE="$2"

if [[ -z "${APPEARANCE}" ]]; then
  APPEARANCE=$(cdom_os_appearance)
fi

if [[ -z $ELEMENT ]] || [[ -z $APPEARANCE ]]; then
  echo "
    Usage:
    yabai-element-color <element> [appearance]
  "
  exit 1
fi

if [[ "dark" == "${APPEARANCE}" ]]; then
  DARK_MODE=true
else
  DARK_MODE=false
fi

case $ELEMENT in
  border)
    if "${DARK_MODE}"; then
      echo "${YABAI_BORDER_LIGHT}"
    else
      echo "${YABAI_BORDER_DARK}"
    fi
  ;;

  *) echo "Unsupported element!" && exit 1 ;;
esac
